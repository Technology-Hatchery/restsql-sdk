<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Roadmap</title>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all"
	href="doc.css">
</head>
<body>
<h1>Roadmap</h1>
<div class="text">The roadmap contains both features and defects. Priorities are given below as 1, 2 and 3. These map to near, medium and long-term.</div>
<h2>Features</h2>
<table>
	<tbody>
		<tr>
			<th>Area</th>
			<th>Feature</th>
			<th>Description</th>
			<th>Impact</th>
			<th>Effort</th>
			<th>Priority</th>
		</tr>
		<tr>	
			<td>Interop</td>
			<td>Broader JEE Container Support</td>
			<td>Test with JBoss, WebLogic.</td>
			<td>Likely  no changes</td>
			<td>Small</td>
			<td align="center">1</td>
		</tr>
		<tr>
			<td></td>
			<td>Broader Database Support</td>
			<td>Test with PostgreSQL, SQLServer, Oracle Support</td>
			<td>Likely requires changes to metadata collector</td>
			<td>Medium</td>
			<td align="center">1</td>
		</tr>
		<tr>
			<td>Core Feature</td>
			<td>SSL/TLS</td>
			<td>Ensure service operates with HTTPS</td>
			<td>Likely no changes</td>
			<td>Small</td>
			<td align="center">1</td>
		</tr>
		<tr>
			<td></td>
			<td>JSON Support</td>
			<td>Add JSON in addition to XML</td>
			<td>Additional methods to ResResource, new JsonRequestProcessor and JsonSeralizer</td>
			<td>Medium</td>
			<td align="center">1</td>
		</tr>
		<tr>
			<td></td>
			<td>Dynamic SQL Resource Definition Reloading</td>
			<td>Reload definition if file changes. Avoids needing to restart container in development.</td>
			<td></td>
			<td>Small</td>
			<td align="center">2</td>
		</tr>
		<tr>
			<td></td>
			<td>Order By</td>
			<td>Add support for order by on GETs</td>
			<td></td>
			<td>Small</td>
			<td align="center">2</td>
		</tr>
		<tr>
			<td></td>
			<td>Numeric Queries</td>
			<td>Add support for number comparisons (less than, greater than) and ranges (between)</td>
			<td></td>
			<td>Medium</td>
			<td align="center">2</td>
		</tr>
		<tr>
			<td></td>
			<td>Group By</td>
			<td>Add support for SQL Resource queries containing group by (use having instead of where)</td>
			<td></td>
			<td>Small</td>
			<td align="center">2</td>
		</tr>
		<tr>
			<td></td>
			<td>Aggregate Queries</td>
			<td>Add support for SQL Resource queries UNION, UNION ALL, INTERSECT and MINUS</td>
			<td></td>
			<td>Small</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>Autogenerated Identifiers</td>
			<td>Return auto created pks</td>
			<td>Likely database-specific implementation, e.g. MySQL is last_insert_id()</td>
			<td>Large</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>Query Case Insensitivity</td>
			<td>Add search case sensitivity param per request. Also make this a global setting.</td>
			<td>Likely database-specific implementation</td>
			<td>Medium</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>Attribute Validation</td>
			<td>Standard and custom attribute validation on inserts and updates. Declared in SQL Resource definition, e.g. number range, string length or format.</td>
			<td></td>
			<td>Large</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>Transaction Management</td>
			<td>Configurable transaction boundaries for multi-object requests</td>
			<td></td>
			<td>Medium</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>Optimistic Locking</td>
			<td>Lock optimistically on timestamps or sequence number, i.e. select for update where last_modified = 'xxx'</td>
			<td></td>
			<td>Large</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>Statistics</td>
			<td>Implement statistics like number current open requests, historical requests, errors, etc. Expose through HTTP and JMX.</td>
			<td></td>
			<td>Medium</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>XML Preferences</td>
			<td>Configurable to return columns as attributes or as elements</td>
			<td>Change Serializer, add restsql.properties property</td>
			<td>Small</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>Request Schema Validation</td>
			<td>Validate request document if configured</td>
			<td></td>
			<td>Small</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>Dynamic Configuration Reloading</td>
			<td>Reload configuration on properties file change (general, database and logging)</td>
			<td>Config class</td>
			<td>Small</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>More Flexible Classpath</td>
			<td>TriggerManager expects single file/dir in triggers.classpath</td>
			<td></td>
			<td>Small</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>Logging Client Hostnames</td>
			<td>Add configurable option to show hostnames instead of IPs in access, error and trace logs</td>
			<td></td>
			<td>Small</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>Metadata Dump</td>
			<td>Implement structured text dump of SQL Resource metadata</td>
			<td>SqlResourceMetaData. toString(), ResResource change</td>
			<td>Small</td>
			<td align="center">2</td>
		</tr>
		<tr>
			<td></td>
			<td>Configurable Cascade Delete</td>
			<td>Child or extension rows are currently deleted explicitly. Make this a configurable option to suppress deletion, per SQL Resource.</td>
			<td></td>
			<td>Small</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>Cascade Delete by Query</td>
			<td>Delete by query (non-pk column) will fail with hierarchical in many-to-many or one-to-many if there is no cascasde delete FK instruction in schema. Issue delete from child where fk in (select pk from parent where column = value).</td>
			<td></td>
			<td>Medium</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>Extension Updates by Query</td>
			<td>Updates/Deletes by query to extension rows only works if a column in the extension is queried. Use correlated subselect of values to affect extensions.</td>
			<td></td>
			<td>Medium</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>Extension Updates when Not Exists</td>
			<td>If extension doesn't exist, updates will fail silently to the extension. If rows affected = 0, convert to insert statement.</td>
			<td></td>
			<td>Small</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td>Performance</td>
			<td>Connection Pooling</td>
			<td>Use JEE container's connection pool</td>
			<td></td>
			<td>Medium</td>
			<td align="center">2</td>
		</tr>
		<tr>
			<td></td>
			<td>Improve read response time for XML generation for hierarchical SQL resources</td>
			<td>Build XML natively instead of using objects</td>
			<td>Change to SqlResourceImpl</td>
			<td>Medium</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td>Design</td>
			<td>Decouple service and impl packages</td>
			<td>Remove impl bindings in service and impl, e.g. SqlResourceImpl to RequestImpl</td>
			<td></td>
			<td>Small</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td>Security</td>
			<td>Authentication</td>
			<td>Use Basic Authentication under HTTPS. Delegate to a plugin, e.g. for PAM, LDAP, web.xml declared usrs. Temporarily lockout repeated invalid requests, record to audit log.</td>
			<td>New Servlet Filter, Auth Provider Plugin framework</td>
			<td>Large</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>Authorization</td>
			<td>Authorize each requests based on roles and privileges. Privs are for CRUD operations on SQL Resources. Record unauthorized requests to audit log.</td>
			<td>New Servlet Filter, privilege database tables</td>
			<td>Large</td>
			<td align="center">3</td>
		</tr>
		<tr>
			<td></td>
			<td>Service Hardening</td>
			<td>Input validation, e.g. SQL injection</td>
			<td></td>
			<td>Medium</td>
			<td align="center">3</td>
		</tr>
	</tbody>
</table>

<h2>Bugs</h2>
<table>
	<tbody>
		<tr>
			<th>Issue</th>
			<th>Description</th>
			<th>Impact</th>
			<th>Effort</th>
			<th>Priority</th>
		</tr>
		<tr>
			<td>Metadata PKs Incorrect for non-parent tables</td>
			<td>Fix PK representations for extensions and child tables</td>
			<td>SqlResourceMetaData</td>
			<td>Small</td>
			<td align="center">2</td>
		</tr>
		<tr>
			<td>Metadata Type Name Inconsistency</td>
			<td>Metadata type name on inferred columns doesn't match , e.g.  smallint(5) unsigned  != SMALLINT UNSIGNED. JDBC has different type names than MySQL</td>
			<td>SqlResourceMetaData</td>
			<td>Small</td>
			<td align="center">2</td>
		</tr>
	</tbody>
</table>
</body>
</html>